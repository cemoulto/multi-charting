   <DOCTYPE !html>
<html>
    <head>

        <script type='text/javascript' src='../node_modules/fusioncharts/fusioncharts.js'></script>
        <script type='text/javascript' src='../node_modules/fusioncharts/fusioncharts.timeseries.js'></script>
        <script type='text/javascript' src='../out/fusioncharts.multicharting.js'></script>
        <script type='text/javascript' src='../node_modules/fusioncharts/themes/fusioncharts.theme.ocean.js'></script>

    </head>

    <body>

     <div id="matrix" style= 'height : 100; width: 300'>
          Loading please wait... 
    </div>

        <style type="text/css">
            
            #matrix div {
                border: 1px solid #CCCCCC;
                vertical-align: middle;
            }
        
        </style>

        <script type='text/javascript'>
            var MultiChartObj = new MultiCharting(),
                months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                confTS = {
                    "chart": {
                        "axes": [{
                            "x": {},
                            "y": {}
                        }],
                        "datasets": [{
                            "category": {
                                "dateformat": "%b %e %Y"
                            },
                            "dataset": [{
                                "uid": "ds-1",
                                "series": [{
                                    "plot": {
                                        "style": {
                                            fill: "#FF0000"
                                        },
                                        "type":"column"
                                    },
                                    "style": {
                                        fill: "#FF0000"
                                    },
                                    "name": "Series 1"
                                }]
                            }]
                        }]
                    }
                },
                confCol = {
                    "chart": {
                        "theme": "ocean",
                        "showYAxisValues": 0,
                        "showValues": 0
                    }
                },
                dataStore,
                dataProcessor1,
                dataProcessor2,
                data,
                sortOperator,
                filterOperator,
                newData1,
                newData2;

            dataStore = MultiChartObj.createDataStore();

            function parseDate(d) {
                return new Date(2001,
                    d.substring(0, 2) - 1,
                    d.substring(2, 4),
                    d.substring(4, 6),
                    d.substring(6, 8));
            }



            dataStore.setDataUrl({
                // dataSource: 'airline-small.csv',
                dataSource: 'airline-small.csv',
                dataType: 'csv',
                outputFormat: 2
            },
                function (data) {

                    filterOperator = function (a, b) {
                        return Number(a.distance) > 390;
                    };
                    distanceDataProcessor = MultiChartObj.createDataProcessor();
                    distanceDataProcessor.addRule({rule: filterOperator});
                    flightByDistance = dataStore.getChildModel(distanceDataProcessor);
                    
                    filterOperator2 = function (a, b) {
                        return Number(a.distance) < 300;
                    };
                    timeDataProcessor = MultiChartObj.createDataProcessor();
                    timeDataProcessor.addRule({rule: filterOperator2});
                    flightSort = dataStore.getChildModel(timeDataProcessor);
                    
                    configuration = [
                    [{
                            "height": 150,
                            "width": 250,
                            "html": "00",
                            "chart": {
                                "type": "msline",
                                "dataSource": flightByDistance,
                                "dimension": ["destination"],
                                "measure": ["distance"],
                                "seriesType": "MS",
                                "_categories": ['Jan', 'Feb', 'Mar'],
                                "aggregation": 'sum', // agerage,
                                "config": {
                                    "chart": {
                                        "caption": "chart1",
                                        "showLegend": 0,
                                        "showValues": 0,
                                        "showYAxisValues": 0,
                                        "theme": "ocean"
                                    }
                                },
                                "callback": function () {
                                }
                            }
                        },{
                            "height": 120,
                            'width' : 50,
                            "html": "01",
                            "chart": {
                                "type": "line",
                                "dataSource": dataStore,
                                "dimension": ["destination"],
                                "measure": ["distance"],
                                "seriesType": "MS",
                                "_categories": ['Jan', 'Feb', 'Mar'],
                                "aggregation": 'sum', // agerage,
                                "config": {
                                    "chart": {
                                        "caption": "asdas",
                                        "showLegend": 0,
                                        "showValues": 0,
                                        "showYAxisValues": 0,
                                        "theme": "ocean"
                                    }
                                },
                                "callback": function () {
                                }
                            }
                        },{
                            "height": 120,
                            "width": 250,
                            "html": "02",
                            "chart": {
                                "type": "line",
                                "dataSource": dataStore,
                                "dimension": ["destination"],
                                "measure": ["distance"],
                                "seriesType": "MS",
                                "_categories": ['Jan', 'Feb', 'Mar'],
                                "aggregation": 'sum', // agerage,
                                "config": {
                                    "chart": {
                                        "caption": "Time of Day",
                                        "showLegend": 0,
                                        "showValues": 0,
                                        "showYAxisValues": 0,
                                        "theme": "ocean"
                                    }
                                },
                                "callback": function () {
                                }
                            }
                        }],
                        [{
                            "height" : 100,
                            "colspan" : 3,
                            "html": "10",
                            "chart": {
                                "type": "line",
                                "dataSource": dataStore,
                                "dimension": ["destination"],
                                "measure": ["distance"],
                                "seriesType": "SS",
                                "_categories": ['Jan', 'Feb', 'Mar'],
                                "aggregation": 'sum', // agerage,
                                "config": {
                                    "chart": {
                                        "caption": "trytrhg",
                                        "showLegend": 0,
                                        "showValues": 0,
                                        "showYAxisValues": 0,
                                        "theme": "ocean"
                                    }
                                },
                                "callback": function () {
                                }
                            }
                        }]
                    ],
                    configuration2 = [
                    [{
                            "height": 150,
                            "width": 250,
                            "html": "00",
                            "chart": {
                                "type": "column2d",
                                "dataSource": flightByDistance,
                                "dimension": ["destination"],
                                "measure": ["distance"],
                                "seriesType": "MS",
                                "_categories": ['Jan', 'Feb', 'Mar'],
                                "aggregation": 'sum', // agerage,
                                "config": {
                                    "chart": {
                                        "caption": "chart1",
                                        "showLegend": 0,
                                        "showValues": 0,
                                        "showYAxisValues": 0,
                                        "theme": "ocean"
                                    }
                                },
                                "callback": function () {
                                }
                            }
                        },{
                            "height": 120,
                            'width' : 50,
                            "html": "01",
                            "chart": {
                                "type": "column2d",
                                "dataSource": dataStore,
                                "dimension": ["destination"],
                                "measure": ["distance"],
                                "seriesType": "MS",
                                "_categories": ['Jan', 'Feb', 'Mar'],
                                "aggregation": 'sum', // agerage,
                                "config": {
                                    "chart": {
                                        "caption": "asdas",
                                        "showLegend": 0,
                                        "showValues": 0,
                                        "showYAxisValues": 0,
                                        "theme": "ocean"
                                    }
                                },
                                "callback": function () {
                                }
                            }
                        },{
                            "height": 120,
                            "width": 250,
                            "html": "02",
                            "chart": {
                                "type": "column2d",
                                "dataSource": dataStore,
                                "dimension": ["destination"],
                                "measure": ["distance"],
                                "seriesType": "MS",
                                "_categories": ['Jan', 'Feb', 'Mar'],
                                "aggregation": 'sum', // agerage,
                                "config": {
                                    "chart": {
                                        "caption": "Time of Day",
                                        "showLegend": 0,
                                        "showValues": 0,
                                        "showYAxisValues": 0,
                                        "theme": "ocean"
                                    }
                                },
                                "callback": function () {
                                }
                            }
                        }],
                        [{
                            "height" : 100,
                            "colspan" : 3,
                            "html": "10",
                            "chart": {
                                "type": "column2d",
                                "dataSource": dataStore,
                                "dimension": ["destination"],
                                "measure": ["distance"],
                                "seriesType": "SS",
                                "_categories": ['Jan', 'Feb', 'Mar'],
                                "aggregation": 'sum', // agerage,
                                "config": {
                                    "chart": {
                                        "caption": "trytrhg",
                                        "showLegend": 0,
                                        "showValues": 0,
                                        "showYAxisValues": 0,
                                        "theme": "ocean"
                                    }
                                },
                                "callback": function () {
                                }
                            }
                        }]
                    ];

                    matrix = MultiChartObj.createMatrix('matrix', configuration);
                    
                    matrix.draw();


                }
            )

        </script>

    </body>


</html>